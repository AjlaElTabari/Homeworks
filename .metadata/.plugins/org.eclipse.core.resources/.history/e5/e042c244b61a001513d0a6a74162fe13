package homework_oop;

public class BusNetwork extends Network implements Functionable {

	public BusNetwork(String name) {
		super(name);
	}

	public void addComputer(Computer computer) {

		Computer[] computers = getComputers();
		ArrayManipulation am = new ArrayManipulation();
		Computer[] newComputers = new Computer[getComputers().length + 1];
		newComputers = am.extendArray(computers);
		Client newComputer = (Client)(newComputers[newComputers.length - 1]);
		newComputer.connect(newComputers[newComputers.length - 1]);
		
		setComputers(newComputers);
	}
	
	public void removeComputer(Computer computer, int index) {

		Computer[] computers = getComputers();
		ArrayManipulation am = new ArrayManipulation();
		Computer[] newComputers = new Computer[getComputers().length - 1];
		newComputers = am.shrinkArray(computers, index);
		
		setComputers(newComputers);
	}


	/**
	 * Checks if the network functioning
	 */
	public boolean isFunctioning() {
		int counter = 0;

		for (int i = 0; i < getComputers().length; i++) {
			if (getComputers()[i] != null) {
				counter++;
			}
		}

		if (counter >= 2) {
			return true;
		}
		return false;
	}
	
	/**
	 * Prints information about network.
	 */
	
	public String toString() {
		return String.format(
				"Number of computers: %d\nIs network functional? %b\n",
				getComputers().length, isFunctioning());
	}

	@Override
	public void removeComputer(Computer c) {
		// TODO Auto-generated method stub
		
	}
}
